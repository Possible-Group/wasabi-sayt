(()=>{var e={};e.id=3500,e.ids=[3500],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7435:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>f,routeModule:()=>d,serverHooks:()=>h,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>g});var s={};t.r(s),t.d(s,{GET:()=>u});var o=t(42706),a=t(28203),n=t(45994),i=t(39187),p=t(39676),c=t(63464);async function u(){let e=await (0,c.P)("poster:categories",6e4,()=>(0,p.i)("/menu.getCategories")),r=Array.isArray(e?.response)?e.response:[],t=process.env.POSTER_BASE_URL,s="";if(t)try{s=new URL(t).origin}catch{s=""}let o=e=>{let r="string"==typeof e?e.trim():"";return r?r.startsWith("/")&&s?`${s}${r}`:r:null},a=r.map(e=>({...e,photo:o(e.category_photo??e.photo??e.image)}));return i.NextResponse.json(a)}let d=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/poster/categories/route",pathname:"/api/poster/categories",filename:"route",bundlePath:"app/api/poster/categories/route"},resolvedPagePath:"/Users/mycomp/Documents/IT/Projects/wasabi/wasabi-sayt-2/app/api/poster/categories/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:g,serverHooks:h}=d;function f(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:g})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},39676:(e,r,t)=>{"use strict";t.d(r,{i:()=>n});let s=process.env.POSTER_TOKEN||process.env.POSTER_ACCESS_TOKEN,o=process.env.POSTER_BASE_URL;function a(e,r){if(!r)throw Error(`Missing env ${e}`);return r}async function n(e,r={},t={}){let i=a("POSTER_TOKEN",s),p=a("POSTER_BASE_URL",o).replace(/\/$/,""),c=t.httpMethod??"GET",u=new URL(`${p}/${e}`);u.searchParams.set("token",i),u.searchParams.set("format","json");let d={cache:"no-store",method:c};if("GET"===c)for(let[e,t]of Object.entries(r))void 0!==t&&u.searchParams.set(e,String(t));else{let e=new URLSearchParams;for(let[t,s]of Object.entries(r))void 0!==s&&e.set(t,String(s));d.headers={"content-type":"application/x-www-form-urlencoded;charset=UTF-8"},d.body=e.toString()}let l=await fetch(u.toString(),d),g=await l.text().catch(()=>"");if(!l.ok)throw Error(`Poster error ${l.status}: ${g||l.statusText}`);let h=g?JSON.parse(g):{};if(h?.error){let e="object"==typeof h.error?JSON.stringify(h.error):String(h.error),r=h?.message?` ${h.message}`:"";throw Error(`Poster API error: ${e}${r}`)}return h}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63464:(e,r,t)=>{"use strict";t.d(r,{P:()=>o});let s=new Map;async function o(e,r,t){let o=Date.now(),a=s.get(e);if(a&&a.expiresAt>o)return a.value;let n=await t();return s.set(e,{value:n,expiresAt:o+r}),n}},78335:()=>{},96487:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,5452],()=>t(7435));module.exports=s})();