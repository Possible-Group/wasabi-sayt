(()=>{var e={};e.id=2171,e.ids=[2171],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},39676:(e,r,t)=>{"use strict";t.d(r,{i:()=>n});let s=process.env.POSTER_TOKEN||process.env.POSTER_ACCESS_TOKEN,o=process.env.POSTER_BASE_URL;function a(e,r){if(!r)throw Error(`Missing env ${e}`);return r}async function n(e,r={},t={}){let i=a("POSTER_TOKEN",s),p=a("POSTER_BASE_URL",o).replace(/\/$/,""),c=t.httpMethod??"GET",u=new URL(`${p}/${e}`);u.searchParams.set("token",i),u.searchParams.set("format","json");let d={cache:"no-store",method:c};if("GET"===c)for(let[e,t]of Object.entries(r))void 0!==t&&u.searchParams.set(e,String(t));else{let e=new URLSearchParams;for(let[t,s]of Object.entries(r))void 0!==s&&e.set(t,String(s));d.headers={"content-type":"application/x-www-form-urlencoded;charset=UTF-8"},d.body=e.toString()}let l=await fetch(u.toString(),d),m=await l.text().catch(()=>"");if(!l.ok)throw Error(`Poster error ${l.status}: ${m||l.statusText}`);let f=m?JSON.parse(m):{};if(f?.error){let e="object"==typeof f.error?JSON.stringify(f.error):String(f.error),r=f?.message?` ${f.message}`:"";throw Error(`Poster API error: ${e}${r}`)}return f}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},50929:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>d,serverHooks:()=>f,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>u,dynamic:()=>c});var o=t(42706),a=t(28203),n=t(45994),i=t(39187),p=t(39676);let c="force-dynamic";async function u(){let e=await (0,p.i)("spots.getSpots"),r=(Array.isArray(e?.response)?e.response:[]).filter(e=>!e.spot_delete).map(e=>({spot_id:String(e.spot_id),name:e.name,address:e.address??"",lat:e.lat?Number(e.lat):null,lng:e.lng?Number(e.lng):null}));return i.NextResponse.json(r)}let d=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/poster/spots/route",pathname:"/api/poster/spots",filename:"route",bundlePath:"app/api/poster/spots/route"},resolvedPagePath:"/Users/mycomp/Documents/IT/Projects/wasabi/wasabi-sayt-2/app/api/poster/spots/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:m,serverHooks:f}=d;function g(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:m})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,5452],()=>t(50929));module.exports=s})();