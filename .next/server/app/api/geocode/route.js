(()=>{var e={};e.id=6746,e.ids=[6746],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},54889:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>d,serverHooks:()=>x,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>p,dynamic:()=>i});var a=r(42706),o=r(28203),n=r(45994),u=r(39187);let i="force-dynamic";function c(e){let t=Number(e);return Number.isFinite(t)?t:null}async function p(e){let t=new URL(e.url),r=c(t.searchParams.get("lat")),s=c(t.searchParams.get("lng"));if(null===r||null===s)return u.NextResponse.json({error:"INVALID_COORDS"},{status:400});let a=process.env.YANDEX_GEOCODER_API_KEY||"ad4678d0-90fa-4eef-b58c-57e0babdc17f";if(!a)return u.NextResponse.json({error:"MISSING_KEY"},{status:500});let o=new URL("https://geocode-maps.yandex.ru/1.x/");o.searchParams.set("apikey",a),o.searchParams.set("format","json"),o.searchParams.set("lang","ru_RU"),o.searchParams.set("geocode",`${s},${r}`),o.searchParams.set("results","1");let n=await fetch(o.toString(),{cache:"no-store"}),i=await n.text().catch(()=>"");if(!n.ok)return u.NextResponse.json({error:"GEOCODER_ERROR",detail:i||n.statusText},{status:502});let p=null;try{p=i?JSON.parse(i):null}catch{p=null}let d=p?.response?.GeoObjectCollection?.featureMember?.[0]?.GeoObject??null,l=d?.metaDataProperty?.GeocoderMetaData?.text||d?.metaDataProperty?.GeocoderMetaData?.Address?.formatted||d?.name||"";return u.NextResponse.json({address:String(l||"").trim()})}let d=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/geocode/route",pathname:"/api/geocode",filename:"route",bundlePath:"app/api/geocode/route"},resolvedPagePath:"/Users/mycomp/Documents/IT/Projects/wasabi/wasabi-sayt-2/app/api/geocode/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:m,serverHooks:x}=d;function g(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:m})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,5452],()=>r(54889));module.exports=s})();