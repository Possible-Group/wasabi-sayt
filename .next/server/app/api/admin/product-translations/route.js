(()=>{var e={};e.id=4900,e.ids=[4900],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13271:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>x,routeModule:()=>m,serverHooks:()=>z,workAsyncStorage:()=>w,workUnitAsyncStorage:()=>y});var r={};s.r(r),s.d(r,{GET:()=>p,POST:()=>U});var n=s(42706),o=s(28203),a=s(45994),i=s(39187),u=s(65658),l=s(23952),c=s(67695);let d=u.Ik({productId:u.Yj().min(1),nameUz:u.Yj().optional(),descUz:u.Yj().optional(),seoTitleRu:u.Yj().optional(),seoDescRu:u.Yj().optional(),seoKeywordsRu:u.Yj().optional(),seoTitleUz:u.Yj().optional(),seoDescUz:u.Yj().optional(),seoKeywordsUz:u.Yj().optional(),hidden:u.zM().optional()});async function p(){if(!await (0,c.ZT)())return i.NextResponse.json({error:"Unauthorized"},{status:401});let e=await l.z.productTranslation.findMany();return i.NextResponse.json(e)}async function U(e){if(!await (0,c.ZT)())return i.NextResponse.json({error:"Unauthorized"},{status:401});let t=d.parse(await e.json()),s=await l.z.productTranslation.upsert({where:{productId:t.productId},create:{productId:t.productId,nameUz:t.nameUz||null,descUz:t.descUz||null,seoTitleRu:t.seoTitleRu||null,seoDescRu:t.seoDescRu||null,seoKeywordsRu:t.seoKeywordsRu||null,seoTitleUz:t.seoTitleUz||null,seoDescUz:t.seoDescUz||null,seoKeywordsUz:t.seoKeywordsUz||null,hidden:t.hidden??!1},update:{nameUz:t.nameUz??null,descUz:t.descUz??null,seoTitleRu:t.seoTitleRu??null,seoDescRu:t.seoDescRu??null,seoKeywordsRu:t.seoKeywordsRu??null,seoTitleUz:t.seoTitleUz??null,seoDescUz:t.seoDescUz??null,seoKeywordsUz:t.seoKeywordsUz??null,hidden:t.hidden??!1}});return i.NextResponse.json({ok:!0,row:s})}let m=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/admin/product-translations/route",pathname:"/api/admin/product-translations",filename:"route",bundlePath:"app/api/admin/product-translations/route"},resolvedPagePath:"/Users/mycomp/Documents/IT/Projects/wasabi/wasabi-sayt-2/app/api/admin/product-translations/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:w,workUnitAsyncStorage:y,serverHooks:z}=m;function x(){return(0,a.patchFetch)({workAsyncStorage:w,workUnitAsyncStorage:y})}},23952:(e,t,s)=>{"use strict";s.d(t,{z:()=>n});var r=s(96330);let n=global.prisma||new r.PrismaClient({log:["error"]})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67695:(e,t,s)=>{"use strict";s.d(t,{Au:()=>l,Or:()=>c,ZT:()=>p,ln:()=>d});var r=s(43008),n=s.n(r),o=s(44512);let a=process.env.ADMIN_COOKIE_NAME||"wasabi_admin_session";async function i(e){(await (0,o.UL)()).set(a,e,{httpOnly:!0,sameSite:"lax",secure:!0,path:"/"})}async function u(){(await (0,o.UL)()).set(a,"",{httpOnly:!0,sameSite:"lax",secure:!0,path:"/",maxAge:0})}async function l(e){let t=function(e){let t=process.env.ADMIN_JWT_SECRET;return n().sign(e,t,{expiresIn:"7d"})}({sub:e.adminId,login:e.login});await i(t)}async function c(){let e=await (0,o.UL)(),t=e.get(a)?.value;if(!t)return null;let s=function(e){try{let t=process.env.ADMIN_JWT_SECRET;return n().verify(e,t)}catch{return null}}(t);return s?{adminId:s.sub,login:s.login}:null}async function d(){await u()}async function p(){return c()}},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},96330:e=>{"use strict";e.exports=require("@prisma/client")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,5452,4512,3008,5658],()=>s(13271));module.exports=r})();