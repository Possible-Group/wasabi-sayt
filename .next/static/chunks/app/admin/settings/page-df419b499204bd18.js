(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7122],{4787:(e,a,n)=>{Promise.resolve().then(n.bind(n,9604))},5299:(e,a,n)=>{"use strict";n.d(a,{A:()=>t,r:()=>s});let s="admin-toast";function t(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2400;window.dispatchEvent(new CustomEvent(s,{detail:{message:e,tone:a,duration:n}}))}},9604:(e,a,n)=>{"use strict";n.r(a),n.d(a,{default:()=>d});var s=n(5155),t=n(2115),l=n(5299);async function i(){return(await fetch("/api/admin/settings",{cache:"no-store"})).json()}async function c(e,a){let n=await fetch("/api/admin/settings",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({key:e,value:a})}),s=await n.json().catch(()=>null);return{ok:n.ok,data:s}}function d(){let[e,a]=(0,t.useState)({}),[n,d]=(0,t.useState)(!1);function r(a){var n;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(n=e[a])&&void 0!==n?n:s}async function o(e,n){d(!0);try{let{ok:s,data:t}=await c(e,n);if(!s){(0,l.A)((null==t?void 0:t.error)||"Ошибка сохранения","error");return}a(a=>({...a,[e]:n})),(0,l.A)("Сохранено")}catch(e){(0,l.A)("Ошибка сохранения","error")}finally{d(!1)}}return(0,t.useEffect)(()=>{i().then(a)},[]),(0,s.jsxs)("div",{className:"admin-container stack-lg",children:[(0,s.jsxs)("div",{className:"stack",children:[(0,s.jsx)("h1",{className:"admin-title",children:"Настройки"}),(0,s.jsx)("p",{className:"admin-subtitle",children:"Общие параметры и системные переключатели."})]}),(0,s.jsxs)("section",{className:"admin-card stack",children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"Время работы"}),(0,s.jsxs)("div",{className:"admin-grid",children:[(0,s.jsxs)("label",{className:"admin-field",children:["Начало (HH:MM)",(0,s.jsx)("input",{className:"admin-input",value:r("work_start","10:00"),onChange:e=>a(a=>({...a,work_start:e.target.value})),onBlur:()=>o("work_start",r("work_start","10:00"))})]}),(0,s.jsxs)("label",{className:"admin-field",children:["Конец (HH:MM)",(0,s.jsx)("input",{className:"admin-input",value:r("work_end","23:00"),onChange:e=>a(a=>({...a,work_end:e.target.value})),onBlur:()=>o("work_end",r("work_end","23:00"))})]})]}),(0,s.jsx)("div",{className:"admin-subtitle",children:"Поддерживается ночной график (например 10:00-02:00)."})]}),(0,s.jsxs)("section",{className:"admin-card stack",children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"Сайт"}),(0,s.jsxs)("label",{className:"admin-field",style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)("span",{children:"Сайт включен"}),(0,s.jsx)("input",{type:"checkbox",checked:"1"===r("site_enabled","1"),onChange:e=>o("site_enabled",e.target.checked?"1":"0")})]}),(0,s.jsx)("div",{className:"admin-subtitle",children:"Если выключено — пользователи увидят страницу обслуживания."})]}),(0,s.jsxs)("section",{className:"admin-card stack",children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"Сборы"}),(0,s.jsxs)("label",{className:"admin-field",children:["Упаковка (сум)",(0,s.jsx)("input",{className:"admin-input",value:r("package_fee","0"),onChange:e=>a(a=>({...a,package_fee:e.target.value})),onBlur:()=>o("package_fee",r("package_fee","0"))})]}),(0,s.jsxs)("label",{className:"admin-field",children:["Доставка (сум)",(0,s.jsx)("input",{className:"admin-input",value:r("delivery_fee","0"),onChange:e=>a(a=>({...a,delivery_fee:e.target.value})),onBlur:()=>o("delivery_fee",r("delivery_fee","0"))})]})]}),(0,s.jsxs)("section",{className:"admin-card stack",children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"Контакты"}),(0,s.jsxs)("label",{className:"admin-field",children:["Телефон",(0,s.jsx)("input",{className:"admin-input",value:r("contact_phone","+998 90 000 00 00"),onChange:e=>a(a=>({...a,contact_phone:e.target.value})),onBlur:()=>o("contact_phone",r("contact_phone","+998 90 000 00 00"))})]}),(0,s.jsxs)("label",{className:"admin-field",children:["Телефон 2",(0,s.jsx)("input",{className:"admin-input",value:r("contact_phone_2",""),onChange:e=>a(a=>({...a,contact_phone_2:e.target.value})),onBlur:()=>o("contact_phone_2",r("contact_phone_2",""))})]}),(0,s.jsxs)("label",{className:"admin-field",children:["Телефон 3",(0,s.jsx)("input",{className:"admin-input",value:r("contact_phone_3",""),onChange:e=>a(a=>({...a,contact_phone_3:e.target.value})),onBlur:()=>o("contact_phone_3",r("contact_phone_3",""))})]}),(0,s.jsxs)("label",{className:"admin-field",children:["Телефон 4",(0,s.jsx)("input",{className:"admin-input",value:r("contact_phone_4",""),onChange:e=>a(a=>({...a,contact_phone_4:e.target.value})),onBlur:()=>o("contact_phone_4",r("contact_phone_4",""))})]}),(0,s.jsxs)("div",{className:"admin-grid",children:[(0,s.jsxs)("label",{className:"admin-field",children:["Адрес RU",(0,s.jsx)("input",{className:"admin-input",value:r("contact_address_ru","Ташкент, доставка по городу"),onChange:e=>a(a=>({...a,contact_address_ru:e.target.value})),onBlur:()=>o("contact_address_ru",r("contact_address_ru","Ташкент, доставка по городу"))})]}),(0,s.jsxs)("label",{className:"admin-field",children:["Адрес UZ",(0,s.jsx)("input",{className:"admin-input",value:r("contact_address_uz","Toshkent, shahar bo'ylab yetkazib berish"),onChange:e=>a(a=>({...a,contact_address_uz:e.target.value})),onBlur:()=>o("contact_address_uz",r("contact_address_uz","Toshkent, shahar bo'ylab yetkazib berish"))})]})]})]}),(0,s.jsxs)("section",{className:"admin-card stack",children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"Соцсети"}),(0,s.jsxs)("label",{className:"admin-field",children:["Instagram",(0,s.jsx)("input",{className:"admin-input",placeholder:"https://instagram.com/...",value:r("social_instagram",""),onChange:e=>a(a=>({...a,social_instagram:e.target.value})),onBlur:()=>o("social_instagram",r("social_instagram",""))})]}),(0,s.jsxs)("label",{className:"admin-field",children:["Telegram",(0,s.jsx)("input",{className:"admin-input",placeholder:"https://t.me/...",value:r("social_telegram",""),onChange:e=>a(a=>({...a,social_telegram:e.target.value})),onBlur:()=>o("social_telegram",r("social_telegram",""))})]}),(0,s.jsxs)("label",{className:"admin-field",children:["Facebook",(0,s.jsx)("input",{className:"admin-input",placeholder:"https://facebook.com/...",value:r("social_facebook",""),onChange:e=>a(a=>({...a,social_facebook:e.target.value})),onBlur:()=>o("social_facebook",r("social_facebook",""))})]})]}),(0,s.jsxs)("section",{className:"admin-card stack",children:[(0,s.jsx)("div",{style:{fontWeight:600},children:"Языки"}),(0,s.jsxs)("label",{className:"admin-field",style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)("span",{children:"RU включен"}),(0,s.jsx)("input",{type:"checkbox",checked:"1"===r("lang_ru_enabled","1"),onChange:e=>o("lang_ru_enabled",e.target.checked?"1":"0")})]}),(0,s.jsxs)("label",{className:"admin-field",style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)("span",{children:"UZ включен"}),(0,s.jsx)("input",{type:"checkbox",checked:"1"===r("lang_uz_enabled","1"),onChange:e=>o("lang_uz_enabled",e.target.checked?"1":"0")})]})]}),(0,s.jsx)("div",{className:"admin-subtitle",children:n?"Сохраняю...":"Готово"})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[8441,6587,7358],()=>a(4787)),_N_E=e.O()}]);