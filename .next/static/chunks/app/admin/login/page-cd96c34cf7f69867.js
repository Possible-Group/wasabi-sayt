(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2116],{5347:(e,a,s)=>{Promise.resolve().then(s.bind(s,5630))},5630:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l});var t=s(5155),n=s(2115),r=s(6046);function i(){let e=(0,r.useRouter)(),a=(0,r.useSearchParams)().get("next")||"/admin",[s,i]=(0,n.useState)(""),[l,u]=(0,n.useState)(""),[c,d]=(0,n.useState)(null),[o,h]=(0,n.useState)(!1);async function m(){d(null),h(!0);try{let t=await fetch("/api/auth/admin/login",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({login:s,password:l})}),n=await t.json();if(!t.ok)return d((null==n?void 0:n.error)||"Ошибка");e.replace(a)}finally{h(!1)}}return(0,t.jsxs)("div",{className:"admin-card stack",style:{maxWidth:360,width:"100%"},children:[(0,t.jsxs)("div",{className:"stack",children:[(0,t.jsx)("div",{style:{fontSize:20,fontWeight:600},children:"Вход в админку"}),(0,t.jsx)("div",{className:"admin-subtitle",children:"Введите логин и пароль администратора."})]}),(0,t.jsxs)("label",{className:"admin-field",children:["Логин",(0,t.jsx)("input",{className:"admin-input",value:s,onChange:e=>i(e.target.value),placeholder:"Логин"})]}),(0,t.jsxs)("label",{className:"admin-field",children:["Пароль",(0,t.jsx)("input",{className:"admin-input",value:l,onChange:e=>u(e.target.value),placeholder:"Пароль",type:"password"})]}),c&&(0,t.jsx)("div",{className:"text-error",children:c}),(0,t.jsx)("button",{className:"admin-button",style:{width:"100%"},disabled:o,onClick:m,children:o?"...":"Войти"})]})}function l(){return(0,t.jsx)(n.Suspense,{fallback:null,children:(0,t.jsx)(i,{})})}},6046:(e,a,s)=>{"use strict";var t=s(6658);s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})}},e=>{var a=a=>e(e.s=a);e.O(0,[8441,6587,7358],()=>a(5347)),_N_E=e.O()}]);