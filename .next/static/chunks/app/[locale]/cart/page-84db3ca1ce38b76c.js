(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2280],{290:(e,t,s)=>{"use strict";s.d(t,{IH:()=>l,Xl:()=>i,bE:()=>r,sX:()=>c,vU:()=>o});let a="wasabi_cart_v1";function i(){try{return JSON.parse(localStorage.getItem(a)||"[]")}catch(e){return[]}}function n(e){localStorage.setItem(a,JSON.stringify(e))}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=i(),a=s.findIndex(t=>t.product_id===e.product_id);return a>=0?s[a].qty+=t:s.push({...e,qty:t}),n(s),s}function l(e,t){let s=i().map(s=>s.product_id===e?{...s,qty:t}:s).filter(e=>e.qty>0);return n(s),s}function c(){n([])}function o(e){return e.reduce((e,t)=>e+t.price*t.qty,0)}},1272:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});let a={ru:{common:{brand:"Wasabi Sushi",slogan:"Свежо, быстро, честно",openMenu:"Открыть меню",orderInTelegram:"Заказать в Telegram",menu:"Меню",cart:"Корзина",checkout:"Оформление заказа",closedNow:"Сейчас не рабочее время",workHours:"Часы работы",addToCart:"В корзину",add:"В корзину",qty:"Кол-во",delivery:"Доставка",pickup:"На вынос",persons:"Персон",phone:"Телефон",name:"Имя",address:"Адрес",comment:"Комментарий",promo:"Промокод",apply:"Применить",total:"Итого",placeOrder:"Оформить заказ",admin:"Админ",login:"Логин",password:"Пароль",signIn:"Войти",logout:"Выйти",closed:"Сейчас не рабочее время"}},uz:{common:{brand:"WASABI SUSHI",slogan:"Yangi, tez, halol",openMenu:"Menyuni ochish",orderInTelegram:"Telegramda buyurtma",menu:"Menyu",cart:"Savat",checkout:"Buyurtma berish",closedNow:"Hozir ish vaqti emas",workHours:"Ish vaqti",addToCart:"Savatga",add:"Savatga",qty:"Soni",delivery:"Yetkazib berish",pickup:"Olib ketish",persons:"Odam",phone:"Telefon",name:"Ism",address:"Manzil",comment:"Izoh",promo:"Promokod",apply:"Qo‘llash",total:"Jami",placeOrder:"Buyurtma berish",admin:"Admin",login:"Login",password:"Parol",signIn:"Kirish",logout:"Chiqish",closed:"Hozir ish vaqti emas"}}};function i(e,t,s){let i=a[e];if(!t)return i;let n=t.split("."),r=i;for(let e of n){if(!r||"object"!=typeof r||!(e in r))return null!=s?s:t;r=r[e]}return"string"==typeof r?r:null!=s?s:t}},4101:(e,t,s)=>{Promise.resolve().then(s.bind(s,6650))},4112:(e,t,s)=>{"use strict";s.d(t,{Zd:()=>i});let a=["ru","uz"];function i(e){return a.includes(e)}},6046:(e,t,s)=>{"use strict";var a=s(6658);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},6650:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5155),i=s(2115),n=s(4112),r=s(1272),l=s(290),c=s(8173),o=s.n(c),d=s(4348),u=s(7564),h=s(6046);function m(){let e=(0,h.useParams)(),t=Array.isArray(null==e?void 0:e.locale)?e.locale[0]:null==e?void 0:e.locale,s="string"==typeof t?t:"",c=(0,n.Zd)(s)?s:"ru",[m,v]=(0,i.useState)([]),[p,g]=(0,i.useState)({delivery:0,pack:0});(0,i.useEffect)(()=>v((0,l.Xl)()),[]),(0,i.useEffect)(()=>{fetch("/api/menu").then(e=>e.json()).then(e=>{var t,s,a,i;g({delivery:Number(null!==(a=null==e?void 0:null===(t=e.settings)||void 0===t?void 0:t.delivery_fee)&&void 0!==a?a:0),pack:Number(null!==(i=null==e?void 0:null===(s=e.settings)||void 0===s?void 0:s.package_fee)&&void 0!==i?i:0)})}).catch(()=>g({delivery:0,pack:0}))},[]);let y=(0,l.vU)(m)/100+p.delivery+p.pack,f="uz"===c?"so'm":"сум";return(0,a.jsxs)("div",{className:"ws-page",children:[(0,a.jsx)(d.default,{locale:c}),(0,a.jsx)("main",{className:"site-main",children:(0,a.jsxs)("div",{className:"ws-container cart-shell",children:[(0,a.jsx)("div",{className:"site-section__head",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"site-eyebrow",children:(0,r.t)(c,"common.cart")}),(0,a.jsx)("h1",{className:"site-title",children:(0,r.t)(c,"common.cart")}),(0,a.jsx)("p",{className:"site-subtitle",children:"uz"===c?"Buyurtmangizni tekshiring va davom eting.":"Проверьте заказ перед оформлением."})]})}),0===m.length?(0,a.jsxs)("div",{className:"site-card",children:[(0,a.jsx)("div",{className:"site-title",style:{fontSize:18},children:"uz"===c?"Savat bo'sh":"Корзина пустая"}),(0,a.jsx)("p",{className:"site-subtitle",children:"uz"===c?"Menyudan taom tanlang va savatga qo'shing.":"Выберите блюда из меню и добавьте в корзину."}),(0,a.jsx)(o(),{className:"site-button site-button--primary",href:"/".concat(c,"/menu"),children:"uz"===c?"Menyuga o'tish":"Перейти к меню"})]}):(0,a.jsxs)("div",{className:"cart-list",children:[m.map(e=>(0,a.jsxs)("div",{className:"cart-row",children:[(0,a.jsxs)("div",{className:"cart-item",children:[(0,a.jsx)("div",{className:"cart-thumb","aria-hidden":!0,children:e.image?(0,a.jsx)("img",{src:e.image,alt:"",loading:"lazy",decoding:"async"}):(0,a.jsx)("div",{className:"cart-thumb__empty"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{style:{fontWeight:700},children:e.name}),(0,a.jsxs)("div",{className:"site-subtitle",children:[(e.price/100).toLocaleString()," ",f]})]})]}),(0,a.jsxs)("div",{className:"cart-qty",children:[(0,a.jsx)("button",{className:"qty-btn",onClick:()=>v((0,l.IH)(e.product_id,e.qty-1)),children:"−"}),(0,a.jsx)("div",{style:{width:24,textAlign:"center",fontWeight:700},children:e.qty}),(0,a.jsx)("button",{className:"qty-btn",onClick:()=>v((0,l.IH)(e.product_id,e.qty+1)),children:"+"})]})]},e.product_id)),(0,a.jsxs)("div",{className:"cart-row",children:[(0,a.jsx)("div",{style:{fontWeight:700},children:"uz"===c?"Yetkazish":"Доставка"}),(0,a.jsxs)("div",{style:{fontWeight:700},children:[p.delivery.toLocaleString()," ",f]})]}),(0,a.jsxs)("div",{className:"cart-row",children:[(0,a.jsx)("div",{style:{fontWeight:700},children:"uz"===c?"Qadoq":"Упаковка"}),(0,a.jsxs)("div",{style:{fontWeight:700},children:[p.pack.toLocaleString()," ",f]})]}),(0,a.jsxs)("div",{className:"cart-row",children:[(0,a.jsx)("div",{style:{fontWeight:700},children:(0,r.t)(c,"common.total")}),(0,a.jsxs)("div",{style:{fontWeight:700},children:[y.toLocaleString()," ",f]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:12,flexWrap:"wrap"},children:[(0,a.jsx)("button",{className:"site-button site-button--ghost",onClick:()=>{(0,l.sX)(),v([])},children:"uz"===c?"Tozalash":"Очистить"}),(0,a.jsx)(o(),{className:"site-button site-button--primary",href:"/".concat(c,"/checkout"),children:(0,r.t)(c,"common.checkout")})]})]})]})}),(0,a.jsx)(u.default,{locale:c})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3499,8441,6587,7358],()=>t(4101)),_N_E=e.O()}]);